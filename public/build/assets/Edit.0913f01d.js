import{L as D}from"./Layout.4d67cb95.js";import{l as P,h as A,k as N,r as w,c as d,a as U,w as V,b as i,d as S,m as L,p as n,q as c,n as m,t as a,f as u,v as f,F as b,e as g,i as C,o,g as K}from"./app.5ad37d3c.js";import{S as M}from"./sweetalert2.esm.all.5c9cd675.js";import{a as y}from"./index.4bece78e.js";import{_ as T}from"./_plugin-vue_export-helper.cdc0426e.js";const B={layout:D,components:{Link:P,Head:A},data(){return{provinces:[]}},props:{errors:Object,user:Object},mounted(){y.get("/region/province").then(t=>{this.provinces=t.data}).catch(t=>console.error(t))},setup(t){const e=N({id:t.user.id,name:t.user.name,email:t.user.email,username:t.user.username,password:"",password_confirmation:"",member_type:t.user.member_type,level:t.user.level,is_active:t.user.is_active,province_id:t.user.student&&t.user.student.province_id?t.user.student.province_id:"",city_id:t.user.student&&t.user.student.city_id?t.user.student.city_id:"",district_id:t.user.student&&t.user.student.district_id?t.user.student.district_id:"",village_id:t.user.student&&t.user.student.village_id?t.user.student.village_id:"",address:t.user.student&&t.user.student.address?t.user.student.address:"",phone_number:t.user.student&&t.user.student.phone_number?t.user.student.phone_number:"",gender:t.user.student&&t.user.student.gender?t.user.student.gender:"",cities:[],districts:[],villages:[]}),l=()=>{y.get(`/region/city/${e.province_id}`).then(v=>{e.city_id=t.user.student.province_id==e.province_id?t.user.student.city_id:"",e.district_id=t.user.student.city_id==e.city_id?t.user.student.district_id:"",e.village_id=t.user.student.district_id==e.district_id?t.user.student.village_id:"",e.cities=v.data}).catch(v=>console.error(v))},r=()=>{e.district_id=t.user.student.city_id==e.city_id?t.user.student.district_id:"",e.village_id=t.user.student.district_id==e.district_id?t.user.student.village_id:"",y.get(`/region/district/${e.city_id}`).then(v=>{e.districts=v.data}).catch(v=>console.error(v))},_=()=>{e.village_id=t.user.student.district_id==e.district_id?t.user.student.village_id:"",y.get(`/region/village/${e.district_id}`).then(v=>{e.villages=v.data}).catch(v=>console.error(v))},k=()=>{C.put(`/admin/users/${t.user.id}`,{id:e.id,name:e.name,email:e.email,username:e.username,password:e.password,password_confirmation:e.password_confirmation,member_type:e.member_type,level:e.level,is_active:e.is_active,province_id:e.province_id,city_id:e.city_id,district_id:e.district_id,village_id:e.village_id,address:e.address,phone_number:e.phone_number,gender:e.gender},{onSuccess:()=>{M.fire({title:"Success!",text:"User Berhasil Disimpan!.",icon:"success",showConfirmButton:!1,timer:1e3})}})};return t.user.student&&(l(),r(),_()),{form:e,submit:k,cityData:l,districtData:r,villageData:_}}},E={class:"page-wrapper"},O={class:"page-content"},H={class:"card border-top border-0 border-3 border-primary"},j={class:"card-body"},F={class:"d-lg-flex align-items-center"},R={class:"ms-auto"},W={class:"row g-3"},h={class:"col-lg-6 col-md-6"},I={key:0,class:"invalid-feedback"},q={class:"col-lg-6 col-md-6"},z={key:0,class:"invalid-feedback"},G={class:"col-lg-6 col-md-6"},J={key:0,class:"invalid-feedback"},Q={class:"col-lg-6 col-md-6"},X={key:0,class:"invalid-feedback"},Y={class:"col-lg-6 col-md-6"},Z={key:0,class:"invalid-feedback"},p={class:"col-lg-6 col-md-6"},$={key:0,class:"invalid-feedback"},ee={class:"col-lg-6 col-md-6"},ie={key:0,class:"invalid-feedback"},se={class:"col-lg-6 col-md-6"},le={key:0,class:"invalid-feedback"},te={class:"card border-top border-0 border-3 border-primary"},re={class:"card-body"},de={class:"row g-3"},oe={class:"col-lg-6 col-md-6"},ae={key:0,class:"invalid-feedback"},ne={class:"col-lg-6 col-md-6"},me={key:0,class:"invalid-feedback"},ue={class:"col-lg-12"},ve={key:0,class:"invalid-feedback"},ce={class:"col-lg-6 col-md-6"},fe=["value"],be={key:0,class:"invalid-feedback"},_e={class:"col-lg-6 col-md-6"},ge=["value"],ye={key:0,class:"invalid-feedback"},ke={class:"col-lg-6 col-md-6"},we=["value"],Ue={key:0,class:"invalid-feedback"},Ve={class:"col-lg-6 col-md-6"},xe=["value"],De={key:0,class:"invalid-feedback"};function Pe(t,e,l,r,_,k){const v=w("Head"),x=w("Link");return o(),d(b,null,[U(v,null,{default:V(()=>{var s;return[i("title",null,`
            `+a((s=t.$page.props.setting.app_name)!=null?s:"Atur Setting Terlebih Dahulu")+`
            - Edit User
        `,1)]}),_:1}),i("div",E,[i("div",O,[e[49]||(e[49]=S('<div class="page-breadcrumb d-none d-sm-flex align-items-center mb-3"><div class="breadcrumb-title pe-3">User</div><div class="ps-3"><nav aria-label="breadcrumb"><ol class="breadcrumb mb-0 p-0"><li class="breadcrumb-item"><a href="javascript:;"><i class="bx bx-home-alt"></i></a></li><li class="breadcrumb-item active" aria-current="page"> Edit User </li></ol></nav></div></div>',1)),i("form",{onSubmit:e[19]||(e[19]=L((...s)=>r.submit&&r.submit(...s),["prevent"]))},[i("div",H,[n(i("input",{type:"hidden",class:m(["form-control",{"is-invalid":l.errors.id}]),"onUpdate:modelValue":e[0]||(e[0]=s=>r.form.id=s)},null,2),[[c,r.form.id]]),i("div",j,[i("div",F,[e[21]||(e[21]=i("h6",{class:"card-title"},"Informasi Akun",-1)),i("div",R,[U(x,{href:"/admin/users",class:"btn btn-primary btn-sm mt-2 mt-lg-0"},{default:V(()=>[...e[20]||(e[20]=[K("Kembali",-1)])]),_:1})])]),e[33]||(e[33]=i("hr",null,null,-1)),i("div",W,[i("div",h,[e[22]||(e[22]=i("label",{class:"form-label"},"Nama",-1)),n(i("input",{type:"text",class:m(["form-control",{"is-invalid":l.errors.name}]),"onUpdate:modelValue":e[1]||(e[1]=s=>r.form.name=s),placeholder:"Nama"},null,2),[[c,r.form.name]]),l.errors.name?(o(),d("div",I,a(l.errors.name),1)):u("",!0)]),i("div",q,[e[24]||(e[24]=i("label",{class:"form-label"},"Level",-1)),n(i("select",{"onUpdate:modelValue":e[2]||(e[2]=s=>r.form.level=s),class:m([{"is-invalid":l.errors.level},"form-select"])},[...e[23]||(e[23]=[i("option",{value:""},"[ Pilih ]",-1),i("option",{value:"1"},"Admin",-1),i("option",{value:"2"},"User",-1)])],2),[[f,r.form.level]]),l.errors.level?(o(),d("div",z,a(l.errors.level),1)):u("",!0)]),i("div",G,[e[25]||(e[25]=i("label",{class:"form-label"},"Username",-1)),n(i("input",{type:"text",class:m(["form-control",{"is-invalid":l.errors.username}]),"onUpdate:modelValue":e[3]||(e[3]=s=>r.form.username=s),placeholder:"Username"},null,2),[[c,r.form.username]]),l.errors.username?(o(),d("div",J,a(l.errors.username),1)):u("",!0)]),i("div",Q,[e[26]||(e[26]=i("label",{class:"form-label"},"Email (Optional)",-1)),n(i("input",{type:"email",class:m(["form-control",{"is-invalid":l.errors.email}]),"onUpdate:modelValue":e[4]||(e[4]=s=>r.form.email=s),placeholder:"Email"},null,2),[[c,r.form.email]]),l.errors.email?(o(),d("div",X,a(l.errors.email),1)):u("",!0)]),i("div",Y,[e[27]||(e[27]=i("label",{class:"form-label"},"password",-1)),n(i("input",{type:"password",class:m(["form-control",{"is-invalid":l.errors.password}]),"onUpdate:modelValue":e[5]||(e[5]=s=>r.form.password=s),placeholder:"Password"},null,2),[[c,r.form.password]]),l.errors.password?(o(),d("div",Z,a(l.errors.password),1)):u("",!0)]),i("div",p,[e[28]||(e[28]=i("label",{class:"form-label"},"Konfirmasi Password",-1)),n(i("input",{type:"password",class:m(["form-control",{"is-invalid":l.errors.password_confirmation}]),"onUpdate:modelValue":e[6]||(e[6]=s=>r.form.password_confirmation=s),placeholder:"Konfirmasi Password"},null,2),[[c,r.form.password_confirmation]]),l.errors.password_confirmation?(o(),d("div",$,a(l.errors.password_confirmation),1)):u("",!0)]),i("div",ee,[e[30]||(e[30]=i("label",{class:"form-label"},"Tipe Member",-1)),n(i("select",{"onUpdate:modelValue":e[7]||(e[7]=s=>r.form.member_type=s),class:m([{"is-invalid":l.errors.member_type},"form-select"])},[...e[29]||(e[29]=[i("option",{value:""},"[ Pilih ]",-1),i("option",{value:"1"}," Member Gratis Try Out ",-1),i("option",{value:"2"}," Member Try Out Berbayar ",-1)])],2),[[f,r.form.member_type]]),l.errors.member_type?(o(),d("div",ie,a(l.errors.member_type),1)):u("",!0)]),i("div",se,[e[32]||(e[32]=i("label",{class:"form-label"},"Status Akun",-1)),n(i("select",{"onUpdate:modelValue":e[8]||(e[8]=s=>r.form.is_active=s),class:m([{"is-invalid":l.errors.is_active},"form-select"])},[...e[31]||(e[31]=[i("option",{value:""},"[ Pilih ]",-1),i("option",{value:"1"},"Active",-1),i("option",{value:"0"},"Non Active",-1)])],2),[[f,r.form.is_active]]),l.errors.is_active?(o(),d("div",le,a(l.errors.is_active),1)):u("",!0)])])])]),i("div",te,[i("div",re,[e[47]||(e[47]=i("h6",{class:"card-title"},"Informasi Lainnya (Optional)",-1)),e[48]||(e[48]=i("hr",null,null,-1)),i("div",de,[i("div",oe,[e[35]||(e[35]=i("label",{class:"form-label"},"Jenis Kelamin",-1)),n(i("select",{"onUpdate:modelValue":e[9]||(e[9]=s=>r.form.gender=s),class:m([{"is-invalid":l.errors.gender},"form-select"])},[...e[34]||(e[34]=[i("option",{value:""},"[ Pilih ]",-1),i("option",{value:"M"},"Laki-laki",-1),i("option",{value:"F"},"Perempuan",-1)])],2),[[f,r.form.gender]]),l.errors.gender?(o(),d("div",ae,a(l.errors.gender),1)):u("",!0)]),i("div",ne,[e[36]||(e[36]=i("label",{class:"form-label"},"Nomor Whatsapp Aktif",-1)),n(i("input",{type:"text","onUpdate:modelValue":e[10]||(e[10]=s=>r.form.phone_number=s),class:m([{"is-invalid":l.errors.phone_number},"form-control"]),placeholder:"Nomor Hp (WA Aktif)"},null,2),[[c,r.form.phone_number]]),l.errors.phone_number?(o(),d("div",me,a(l.errors.phone_number),1)):u("",!0)]),i("div",ue,[e[37]||(e[37]=i("label",{class:"form-label"},"Alamat",-1)),n(i("textarea",{cols:"",rows:"5","onUpdate:modelValue":e[11]||(e[11]=s=>r.form.address=s),class:m([{"is-invalid":l.errors.address},"form-control"]),placeholder:"Alamat RT/RW/No Rumah"},null,2),[[c,r.form.address]]),l.errors.address?(o(),d("div",ve,a(l.errors.address),1)):u("",!0)]),i("div",ce,[e[39]||(e[39]=i("label",{class:"form-label"},"Provinsi",-1)),n(i("select",{onChange:e[12]||(e[12]=(...s)=>r.cityData&&r.cityData(...s)),"onUpdate:modelValue":e[13]||(e[13]=s=>r.form.province_id=s),class:m([{"is-invalid":l.errors.province_id},"form-select"])},[e[38]||(e[38]=i("option",{value:""},"[ Pilih ]",-1)),(o(!0),d(b,null,g(_.provinces,s=>(o(),d("option",{value:s.id},a(s.name),9,fe))),256))],34),[[f,r.form.province_id]]),l.errors.province_id?(o(),d("div",be,a(l.errors.province_id),1)):u("",!0)]),i("div",_e,[e[41]||(e[41]=i("label",{class:"form-label"},"Kota / Kab",-1)),n(i("select",{onChange:e[14]||(e[14]=(...s)=>r.districtData&&r.districtData(...s)),"onUpdate:modelValue":e[15]||(e[15]=s=>r.form.city_id=s),class:m([{"is-invalid":l.errors.city_id},"form-select"])},[e[40]||(e[40]=i("option",{value:""},"[ Pilih ]",-1)),(o(!0),d(b,null,g(r.form.cities,s=>(o(),d("option",{value:s.id},a(s.name),9,ge))),256))],34),[[f,r.form.city_id]]),l.errors.city_id?(o(),d("div",ye,a(l.errors.city_id),1)):u("",!0)]),i("div",ke,[e[43]||(e[43]=i("label",{class:"form-label"},"Kecamatan",-1)),n(i("select",{onChange:e[16]||(e[16]=(...s)=>r.villageData&&r.villageData(...s)),"onUpdate:modelValue":e[17]||(e[17]=s=>r.form.district_id=s),class:m([{"is-invalid":l.errors.district_id},"form-select"])},[e[42]||(e[42]=i("option",{value:""},"[ Pilih ]",-1)),(o(!0),d(b,null,g(r.form.districts,s=>(o(),d("option",{value:s.id},a(s.name),9,we))),256))],34),[[f,r.form.district_id]]),l.errors.district_id?(o(),d("div",Ue,a(l.errors.district_id),1)):u("",!0)]),i("div",Ve,[e[45]||(e[45]=i("label",{class:"form-label"},"Desa / Kelurahan",-1)),n(i("select",{"onUpdate:modelValue":e[18]||(e[18]=s=>r.form.village_id=s),class:m([{"is-invalid":l.errors.village_id},"form-select"])},[e[44]||(e[44]=i("option",{value:""},"[ Pilih ]",-1)),(o(!0),d(b,null,g(r.form.villages,s=>(o(),d("option",{value:s.id},a(s.name),9,xe))),256))],2),[[f,r.form.village_id]]),l.errors.village_id?(o(),d("div",De,a(l.errors.village_id),1)):u("",!0)]),e[46]||(e[46]=i("div",{class:"col-lg-6 col-md-6"},[i("button",{type:"submit",class:"btn btn-primary btn-sm px-5"}," Submit ")],-1))])])])],32)])])],64)}const Ke=T(B,[["render",Pe]]);export{Ke as default};
