import{L as U}from"./Layout.4d67cb95.js";import{P as V}from"./Pagination.e1bdf544.js";import{l as j,h as A,k as M,D as y,r as h,c as n,a as u,w as g,b as e,d as N,p,q as K,v as k,F as _,e as v,m as S,g as P,f as b,i as D,o as l,t as d}from"./app.5ad37d3c.js";import{S as w}from"./sweetalert2.esm.all.5c9cd675.js";import{a as B}from"./index.4bece78e.js";import{_ as F}from"./_plugin-vue_export-helper.cdc0426e.js";const H={layout:U,components:{Link:j,Head:A,Pagination:V},props:{questionTitles:Object,categories:Object},setup(){const t=M({search:y(new URL(document.location).searchParams.get("search")),category_id:y(new URL(document.location).searchParams.get("category_id")||""),lesson_category_id:y(new URL(document.location).searchParams.get("lesson_category_id")||""),lesson_id:y(new URL(document.location).searchParams.get("lesson_id")||""),lessonCategories:[],lessons:[]}),s=()=>{D.get("/admin/question-titles",{search:t.search,category_id:t.category_id,lesson_category_id:t.lesson_category_id,lesson_id:t.lesson_id})},r=(m="",i)=>{t.lesson_category_id=m!=t.category_id?"":t.lesson_category_id,t.lesson_id=i!=t.lesson_category_id?"":t.lesson_id,B.get(`/admin/categories/${t.category_id}/lesson-categories`).then(c=>{t.lessonCategories=c.data}).catch(c=>console.error(c))},o=(m="")=>{t.lesson_id=m!=t.lesson_category_id?"":t.lesson_id,B.get(`/admin/lesson-categories/${t.lesson_category_id}/lessons`).then(i=>{t.lessons=i.data}).catch(i=>console.error(i))},x=m=>{w.fire({title:"Apakah Anda yakin?",text:"Anda tidak akan dapat mengembalikan ini!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Hapus"}).then(i=>{i.isConfirmed&&(D.delete(`/admin/question-titles/${m}`),w.fire({title:"Deleted!",text:"Paket Soal Berhasil Dihapus!.",icon:"success",timer:1e3,showConfirmButton:!1}))})};return t.category_id&&r(t.category_id,t.lesson_category_id),t.lesson_category_id&&o(t.lesson_category_id),{form:t,handleSearch:s,destroy:x,lessonCategoryData:r,lessonData:o}}},J={class:"page-wrapper"},R={class:"page-content"},q={class:"card border-top border-0 border-3 border-primary"},O={class:"card-body"},T={class:"row"},E={class:"col-md-4"},I={class:"col-md-2"},z=["value"],G={class:"col-md-2"},Q=["value"],W={class:"col-md-2"},X=["value"],Y={class:"col-md-2"},Z={class:"card border-top border-0 border-3 border-primary"},$={class:"card-header"},ee={class:"d-flex align-items-center"},se={class:"ms-auto"},ae={class:"card-body"},te={class:"table-responsive"},oe={class:"table mb-0"},ne={class:"badge bg-primary"},le={key:0},re={key:0,class:"badge bg-primary"},ie={key:1,class:"badge bg-primary"},de={key:2,class:"badge bg-primary"},ce={key:3,class:"badge bg-primary"},me={key:1,class:"badge bg-danger"},ue={class:"d-flex order-actions"},ge=["onClick"],_e={key:0,align:"center",colspan:"8"};function be(t,s,r,o,x,m){const i=h("Head"),c=h("Link"),L=h("Pagination");return l(),n(_,null,[u(i,null,{default:g(()=>{var a;return[e("title",null,`
            `+d((a=t.$page.props.setting.app_name)!=null?a:"Atur Setting Terlebih Dahulu")+`
            - Data Paket Soal
        `,1)]}),_:1}),e("div",J,[e("div",R,[s[25]||(s[25]=N('<div class="page-breadcrumb d-none d-sm-flex align-items-center mb-3"><div class="breadcrumb-title pe-3">Paket Soal</div><div class="ps-3"><nav aria-label="breadcrumb"><ol class="breadcrumb mb-0 p-0"><li class="breadcrumb-item"><a href="javascript:;"><i class="bx bx-home-alt"></i></a></li><li class="breadcrumb-item active" aria-current="page"> Data Paket Soal </li></ol></nav></div></div>',1)),e("div",q,[s[18]||(s[18]=e("div",{class:"card-header"},[e("div",{class:"d-flex align-items-center"},[e("div",null,[e("h6",{class:"mb-0"},"Filter Data")])])],-1)),e("div",O,[e("form",null,[e("div",T,[e("div",E,[s[7]||(s[7]=e("label",{for:"search"},"Judul Paket Soal",-1)),p(e("input",{type:"text","onUpdate:modelValue":s[0]||(s[0]=a=>o.form.search=a),class:"form-control",id:"search",placeholder:"Cari Berdasarkan Nama Paket Soal...."},null,512),[[K,o.form.search]])]),e("div",I,[s[9]||(s[9]=e("label",{for:"category"},"Kategori Peminatan",-1)),p(e("select",{onChange:s[1]||(s[1]=(...a)=>o.lessonCategoryData&&o.lessonCategoryData(...a)),"onUpdate:modelValue":s[2]||(s[2]=a=>o.form.category_id=a),class:"form-control"},[s[8]||(s[8]=e("option",{value:""},"[ Pilih]",-1)),(l(!0),n(_,null,v(r.categories,(a,f)=>(l(),n("option",{key:f,value:a.id},d(a.name),9,z))),128))],544),[[k,o.form.category_id]])]),e("div",G,[s[11]||(s[11]=e("label",{for:"lesson_category_id"},"Kategori Mata Pelajaran",-1)),p(e("select",{onChange:s[3]||(s[3]=(...a)=>o.lessonData&&o.lessonData(...a)),"onUpdate:modelValue":s[4]||(s[4]=a=>o.form.lesson_category_id=a),class:"form-control"},[s[10]||(s[10]=e("option",{value:""},"[ Pilih ]",-1)),(l(!0),n(_,null,v(o.form.lessonCategories,a=>(l(),n("option",{value:a.id},d(a.name),9,Q))),256))],544),[[k,o.form.lesson_category_id]])]),e("div",W,[s[13]||(s[13]=e("label",{for:"lesson_id"},"Mata Pelajaran",-1)),p(e("select",{"onUpdate:modelValue":s[5]||(s[5]=a=>o.form.lesson_id=a),class:"form-select"},[s[12]||(s[12]=e("option",{value:""},"[ Pilih ]",-1)),(l(!0),n(_,null,v(o.form.lessons,a=>(l(),n("option",{value:a.id},d(a.name),9,X))),256))],512),[[k,o.form.lesson_id]])]),e("div",Y,[s[16]||(s[16]=e("label",{for:"end_date"},"Action",-1)),s[17]||(s[17]=e("br",null,null,-1)),e("button",{onClick:s[6]||(s[6]=S((...a)=>o.handleSearch&&o.handleSearch(...a),["prevent"])),class:"btn btn-primary btn-sm me-2"},[...s[14]||(s[14]=[e("i",{class:"bx bx-filter"},null,-1),P("Filter ",-1)])]),u(c,{href:"/admin/question-titles",class:"btn btn-danger btn-sm me-2"},{default:g(()=>[...s[15]||(s[15]=[e("i",{class:"bx bx-refresh"},null,-1),P("reset ",-1)])]),_:1})])])])])]),e("div",Z,[e("div",$,[e("div",ee,[s[20]||(s[20]=e("div",null,[e("h6",{class:"mb-0"},"Paket Soal")],-1)),e("div",se,[u(c,{href:"/admin/question-titles/create",class:"btn btn-primary btn-sm me-2"},{default:g(()=>[...s[19]||(s[19]=[e("i",{class:"bx bxs-plus-square"},null,-1),P("Tambah Data ",-1)])]),_:1})])])]),e("div",ae,[e("div",te,[e("table",oe,[s[24]||(s[24]=e("thead",{class:"table table-striped table-light"},[e("tr",null,[e("th",null,"No"),e("th",null,"Peminatan"),e("th",null,"Judul Paket Soal"),e("th",null,"Kategori Mata Pelajaran"),e("th",null,"Mata Pelajaran"),e("th",null,"Kategori Penilaian"),e("th",null,"Actions")])],-1)),e("tbody",null,[(l(!0),n(_,null,v(r.questionTitles.data,(a,f)=>{var C;return l(),n("tr",{key:f},[e("td",null,d(++f+(r.questionTitles.current_page-1)*r.questionTitles.per_page),1),e("td",null,[e("span",ne,d((C=a.category&&a.category.name)!=null?C:"-"),1)]),e("td",null,d(a.name),1),e("td",null,d(a.lesson_category.name),1),e("td",null,d(a.lesson.name),1),e("td",null,[a.add_value_category==1?(l(),n("div",le,[a.assessment_type==1?(l(),n("span",re,"Per Kategori Penilaian")):b("",!0),a.assessment_type==2?(l(),n("span",ie,"Untuk Seluruh Soal (Kecermatan)")):b("",!0),a.assessment_type==3?(l(),n("span",de,"Berdasarkan Poin Jawaban Benar")):b("",!0),a.assessment_type==4?(l(),n("span",ce,"Berdasarkan Bobot Jawaban")):b("",!0)])):(l(),n("span",me,"Tidak ada"))]),e("td",null,[e("div",ue,[u(c,{href:`/admin/question-titles/${a.id}/questions`,class:"ms-1"},{default:g(()=>[...s[21]||(s[21]=[e("i",{class:"bx bx-grid-alt"},null,-1)])]),_:1},8,["href"]),u(c,{href:`/admin/question-titles/${a.id}/edit`,class:"ms-1"},{default:g(()=>[...s[22]||(s[22]=[e("i",{class:"bx bxs-edit"},null,-1)])]),_:1},8,["href"]),e("a",{href:"#",onClick:S(fe=>o.destroy(a.id),["prevent"]),class:"ms-1"},[...s[23]||(s[23]=[e("i",{class:"bx bxs-trash"},null,-1)])],8,ge)])])])}),128)),e("tr",null,[r.questionTitles.data.length?b("",!0):(l(),n("td",_e," Data Tidak Tersedia "))])])])]),u(L,{links:r.questionTitles.links,align:"end"},null,8,["links"])])])])])],64)}const xe=F(H,[["render",be]]);export{xe as default};
