import{L as D}from"./Layout.4d67cb95.js";import{l as h,h as N,k as P,r as w,c as d,a as U,w as V,b as i,d as S,m as A,p as m,q as v,n as u,t as o,f as c,v as f,F as _,e as g,i as C,o as a,g as K}from"./app.5ad37d3c.js";import{S as L}from"./sweetalert2.esm.all.5c9cd675.js";import{a as y}from"./index.4bece78e.js";import{_ as E}from"./_plugin-vue_export-helper.cdc0426e.js";const B={layout:D,components:{Link:h,Head:N},data(){return{provinces:[]}},props:{errors:Object,user:Object},mounted(){y.get("/region/province").then(s=>{this.provinces=s.data}).catch(s=>console.error(s))},setup(s){const e=P({id:s.user.id,name:s.user.name,email:s.user.email,username:s.user.username,password:"",password_confirmation:"",member_type:s.user.member_type,level:s.user.level,is_active:s.user.is_active,province_id:s.user.student&&s.user.student.province_id?s.user.student.province_id:"",city_id:s.user.student&&s.user.student.city_id?s.user.student.city_id:"",district_id:s.user.student&&s.user.student.district_id?s.user.student.district_id:"",village_id:s.user.student&&s.user.student.village_id?s.user.student.village_id:"",address:s.user.student&&s.user.student.address?s.user.student.address:"",phone_number:s.user.student&&s.user.student.phone_number?s.user.student.phone_number:"",gender:s.user.student&&s.user.student.gender?s.user.student.gender:"",cities:[],districts:[],villages:[]}),r=()=>{y.get(`/region/city/${e.province_id}`).then(n=>{e.city_id=s.user.student.province_id==e.province_id?s.user.student.city_id:"",e.district_id=s.user.student.city_id==e.city_id?s.user.student.district_id:"",e.village_id=s.user.student.district_id==e.district_id?s.user.student.village_id:"",e.cities=n.data}).catch(n=>console.error(n))},l=()=>{e.district_id=s.user.student.city_id==e.city_id?s.user.student.district_id:"",e.village_id=s.user.student.district_id==e.district_id?s.user.student.village_id:"",y.get(`/region/district/${e.city_id}`).then(n=>{e.districts=n.data}).catch(n=>console.error(n))},b=()=>{e.village_id=s.user.student.district_id==e.district_id?s.user.student.village_id:"",y.get(`/region/village/${e.district_id}`).then(n=>{e.villages=n.data}).catch(n=>console.error(n))},k=()=>{C.put(`/user/users/${s.user.id}`,{id:e.id,name:e.name,email:e.email,username:e.username,password:e.password,password_confirmation:e.password_confirmation,member_type:e.member_type,level:e.level,is_active:e.is_active,province_id:e.province_id,city_id:e.city_id,district_id:e.district_id,village_id:e.village_id,address:e.address,phone_number:e.phone_number,gender:e.gender},{onSuccess:()=>{L.fire({title:"Success!",text:"User Berhasil Disimpan!.",icon:"success",showConfirmButton:!1,timer:1e3})}})};return s.user.student&&(e.city_id&&r(),e.district_id&&l(),e.village_id&&b()),{form:e,submit:k,cityData:r,districtData:l,villageData:b}}},H={class:"page-wrapper"},M={class:"page-content"},O={class:"card border-top border-0 border-3 border-primary"},T={class:"card-body"},j={class:"d-lg-flex align-items-center"},F={class:"ms-auto"},R={class:"row g-3"},W={class:"col-lg-12 col-md-6"},I={key:0,class:"invalid-feedback"},q={class:"col-lg-6 col-md-6"},z={key:0,class:"invalid-feedback"},J={class:"col-lg-6 col-md-6"},G={key:0,class:"invalid-feedback"},Q={class:"col-lg-6 col-md-6"},X={key:0,class:"invalid-feedback"},Y={class:"col-lg-6 col-md-6"},Z={key:0,class:"invalid-feedback"},p={class:"card border-top border-0 border-3 border-primary"},$={class:"card-body"},ee={class:"row g-3"},ie={class:"col-lg-6 col-md-6"},se={key:0,class:"invalid-feedback"},te={class:"col-lg-6 col-md-6"},re={key:0,class:"invalid-feedback"},le={class:"col-lg-12"},de={key:0,class:"invalid-feedback"},ae={class:"col-lg-6 col-md-6"},oe=["value"],ne={key:0,class:"invalid-feedback"},me={class:"col-lg-6 col-md-6"},ue=["value"],ce={key:0,class:"invalid-feedback"},ve={class:"col-lg-6 col-md-6"},fe=["value"],_e={key:0,class:"invalid-feedback"},be={class:"col-lg-6 col-md-6"},ge=["value"],ye={key:0,class:"invalid-feedback"};function ke(s,e,r,l,b,k){const n=w("Head"),x=w("Link");return a(),d(_,null,[U(n,null,{default:V(()=>{var t;return[i("title",null,`
            `+o((t=s.$page.props.setting.app_name)!=null?t:"Atur Setting Terlebih Dahulu")+`
            - Edit User
        `,1)]}),_:1}),i("div",H,[i("div",M,[e[40]||(e[40]=S('<div class="page-breadcrumb d-none d-sm-flex align-items-center mb-3"><div class="breadcrumb-title pe-3">User</div><div class="ps-3"><nav aria-label="breadcrumb"><ol class="breadcrumb mb-0 p-0"><li class="breadcrumb-item"><a href="javascript:;"><i class="bx bx-home-alt"></i></a></li><li class="breadcrumb-item active" aria-current="page"> Edit User </li></ol></nav></div></div>',1)),i("form",{onSubmit:e[16]||(e[16]=A((...t)=>l.submit&&l.submit(...t),["prevent"]))},[i("div",O,[m(i("input",{type:"hidden",class:u(["form-control",{"is-invalid":r.errors.id}]),"onUpdate:modelValue":e[0]||(e[0]=t=>l.form.id=t)},null,2),[[v,l.form.id]]),i("div",T,[i("div",j,[e[18]||(e[18]=i("h6",{class:"card-title"},"Informasi Akun",-1)),i("div",F,[U(x,{href:"/user/users",class:"btn btn-primary btn-sm mt-2 mt-lg-0"},{default:V(()=>[...e[17]||(e[17]=[K("Kembali",-1)])]),_:1})])]),e[24]||(e[24]=i("hr",null,null,-1)),i("div",R,[i("div",W,[e[19]||(e[19]=i("label",{class:"form-label"},"Nama",-1)),m(i("input",{type:"text",class:u(["form-control",{"is-invalid":r.errors.name}]),"onUpdate:modelValue":e[1]||(e[1]=t=>l.form.name=t),placeholder:"Nama"},null,2),[[v,l.form.name]]),r.errors.name?(a(),d("div",I,o(r.errors.name),1)):c("",!0)]),i("div",q,[e[20]||(e[20]=i("label",{class:"form-label"},"Username",-1)),m(i("input",{type:"text",class:u(["form-control",{"is-invalid":r.errors.username}]),"onUpdate:modelValue":e[2]||(e[2]=t=>l.form.username=t),placeholder:"Username"},null,2),[[v,l.form.username]]),r.errors.username?(a(),d("div",z,o(r.errors.username),1)):c("",!0)]),i("div",J,[e[21]||(e[21]=i("label",{class:"form-label"},"Email (Optional)",-1)),m(i("input",{type:"email",class:u(["form-control",{"is-invalid":r.errors.email}]),"onUpdate:modelValue":e[3]||(e[3]=t=>l.form.email=t),placeholder:"Email"},null,2),[[v,l.form.email]]),r.errors.email?(a(),d("div",G,o(r.errors.email),1)):c("",!0)]),i("div",Q,[e[22]||(e[22]=i("label",{class:"form-label"},"password",-1)),m(i("input",{type:"password",class:u(["form-control",{"is-invalid":r.errors.password}]),"onUpdate:modelValue":e[4]||(e[4]=t=>l.form.password=t),placeholder:"Password"},null,2),[[v,l.form.password]]),r.errors.password?(a(),d("div",X,o(r.errors.password),1)):c("",!0)]),i("div",Y,[e[23]||(e[23]=i("label",{class:"form-label"},"Konfirmasi Password",-1)),m(i("input",{type:"password",class:u(["form-control",{"is-invalid":r.errors.password_confirmation}]),"onUpdate:modelValue":e[5]||(e[5]=t=>l.form.password_confirmation=t),placeholder:"Konfirmasi Password"},null,2),[[v,l.form.password_confirmation]]),r.errors.password_confirmation?(a(),d("div",Z,o(r.errors.password_confirmation),1)):c("",!0)])])])]),i("div",p,[i("div",$,[e[38]||(e[38]=i("h6",{class:"card-title"},"Informasi Lainnya (Optional)",-1)),e[39]||(e[39]=i("hr",null,null,-1)),i("div",ee,[i("div",ie,[e[26]||(e[26]=i("label",{class:"form-label"},"Jenis Kelamin",-1)),m(i("select",{"onUpdate:modelValue":e[6]||(e[6]=t=>l.form.gender=t),class:u([{"is-invalid":r.errors.gender},"form-select"])},[...e[25]||(e[25]=[i("option",{value:""},"[ Pilih ]",-1),i("option",{value:"M"},"Laki-laki",-1),i("option",{value:"F"},"Perempuan",-1)])],2),[[f,l.form.gender]]),r.errors.gender?(a(),d("div",se,o(r.errors.gender),1)):c("",!0)]),i("div",te,[e[27]||(e[27]=i("label",{class:"form-label"},"Nomor Whatsapp Aktif",-1)),m(i("input",{type:"text","onUpdate:modelValue":e[7]||(e[7]=t=>l.form.phone_number=t),class:u([{"is-invalid":r.errors.phone_number},"form-control"]),placeholder:"Nomor Hp (WA Aktif)"},null,2),[[v,l.form.phone_number]]),r.errors.phone_number?(a(),d("div",re,o(r.errors.phone_number),1)):c("",!0)]),i("div",le,[e[28]||(e[28]=i("label",{class:"form-label"},"Alamat",-1)),m(i("textarea",{cols:"",rows:"5","onUpdate:modelValue":e[8]||(e[8]=t=>l.form.address=t),class:u([{"is-invalid":r.errors.address},"form-control"]),placeholder:"Alamat RT/RW/No Rumah"},null,2),[[v,l.form.address]]),r.errors.address?(a(),d("div",de,o(r.errors.address),1)):c("",!0)]),i("div",ae,[e[30]||(e[30]=i("label",{class:"form-label"},"Provinsi",-1)),m(i("select",{onChange:e[9]||(e[9]=(...t)=>l.cityData&&l.cityData(...t)),"onUpdate:modelValue":e[10]||(e[10]=t=>l.form.province_id=t),class:u([{"is-invalid":r.errors.province_id},"form-select"])},[e[29]||(e[29]=i("option",{value:""},"[ Pilih ]",-1)),(a(!0),d(_,null,g(b.provinces,t=>(a(),d("option",{value:t.id},o(t.name),9,oe))),256))],34),[[f,l.form.province_id]]),r.errors.province_id?(a(),d("div",ne,o(r.errors.province_id),1)):c("",!0)]),i("div",me,[e[32]||(e[32]=i("label",{class:"form-label"},"Kota / Kab",-1)),m(i("select",{onChange:e[11]||(e[11]=(...t)=>l.districtData&&l.districtData(...t)),"onUpdate:modelValue":e[12]||(e[12]=t=>l.form.city_id=t),class:u([{"is-invalid":r.errors.city_id},"form-select"])},[e[31]||(e[31]=i("option",{value:""},"[ Pilih ]",-1)),(a(!0),d(_,null,g(l.form.cities,t=>(a(),d("option",{value:t.id},o(t.name),9,ue))),256))],34),[[f,l.form.city_id]]),r.errors.city_id?(a(),d("div",ce,o(r.errors.city_id),1)):c("",!0)]),i("div",ve,[e[34]||(e[34]=i("label",{class:"form-label"},"Kecamatan",-1)),m(i("select",{onChange:e[13]||(e[13]=(...t)=>l.villageData&&l.villageData(...t)),"onUpdate:modelValue":e[14]||(e[14]=t=>l.form.district_id=t),class:u([{"is-invalid":r.errors.district_id},"form-select"])},[e[33]||(e[33]=i("option",{value:""},"[ Pilih ]",-1)),(a(!0),d(_,null,g(l.form.districts,t=>(a(),d("option",{value:t.id},o(t.name),9,fe))),256))],34),[[f,l.form.district_id]]),r.errors.district_id?(a(),d("div",_e,o(r.errors.district_id),1)):c("",!0)]),i("div",be,[e[36]||(e[36]=i("label",{class:"form-label"},"Desa / Kelurahan",-1)),m(i("select",{"onUpdate:modelValue":e[15]||(e[15]=t=>l.form.village_id=t),class:u([{"is-invalid":r.errors.village_id},"form-select"])},[e[35]||(e[35]=i("option",{value:""},"[ Pilih ]",-1)),(a(!0),d(_,null,g(l.form.villages,t=>(a(),d("option",{value:t.id},o(t.name),9,ge))),256))],2),[[f,l.form.village_id]]),r.errors.village_id?(a(),d("div",ye,o(r.errors.village_id),1)):c("",!0)]),e[37]||(e[37]=i("div",{class:"col-lg-6 col-md-6"},[i("button",{type:"submit",class:"btn btn-primary btn-sm px-5"}," Submit ")],-1))])])])],32)])])],64)}const he=E(B,[["render",ke]]);export{he as default};
