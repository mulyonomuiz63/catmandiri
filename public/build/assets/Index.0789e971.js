import{L as w}from"./Layout.4d67cb95.js";import{P as S}from"./Pagination.e1bdf544.js";import{l as M,h as L,r as v,c as t,a as d,w as c,b as o,d as f,f as n,F as m,e as y,i as B,o as s,t as l,g as _,x as T,n as j}from"./app.5ad37d3c.js";import{S as P}from"./sweetalert2.esm.all.5c9cd675.js";import{_ as H}from"./_plugin-vue_export-helper.cdc0426e.js";const K={layout:w,components:{Link:M,Head:L,Pagination:S},props:{exams:Object,categoryId:Object,lessonCategoryId:Object,lessonId:Object,userMemberCategories:Object},setup(i){return{buyExam:a=>{P.fire({title:"Anda yakin akan membeli Latihan Soal ini ?",text:"Pastikan Saldo Anda Cukup Untuk Bertransaksi",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Ya, Beli Latihan Soal",cancelButtonText:"Tidak"}).then(h=>{h.isConfirmed&&B.get(`/user/account-balances/buy-exam/${a}?type=exam`)})},checkMemberCategories:a=>{if(a){for(const h of i.userMemberCategories)if(h.member_categories.some(p=>a.includes(p)))return!0;return!1}else return!0}}},methods:{formatPrice(i){return(i/1).toFixed().replace(".",",").toString().replace(/\B(?=(\d{3})+(?!\d))/g,".")}}},I={class:"page-wrapper"},N={class:"page-content"},A={class:"page-breadcrumb d-none d-sm-flex align-items-center mb-3"},E={class:"ms-auto"},O={key:0},U={class:"row"},V={class:"col-lg-12"},F={key:0,class:"alert alert-danger border-0"},R=["innerHTML"],z={key:1,class:"alert alert-danger border-0"},D=["innerHTML"],Y={key:2,class:"alert alert-success border-0"},q=["innerHTML"],G={class:"card"},J={key:0},Q={key:0,class:"badge bg-danger",style:{position:"absolute","font-size":"14px",margin:"4px"}},W={class:"p-2"},X=["src"],Z={class:"card-header"},x={class:"card-title"},ee={key:1,class:"card-body"},se={key:0,style:{"min-height":"50px"}},te={key:0},re={class:"card-price text-center"},oe={key:1},ie={class:"text-dark text-center"},ne={class:"badge bg-danger mx-1"},ae={key:1,class:"text-center"},le={key:0},de={class:"badge bg-success mb-0 ms-1"},ce={key:1},_e={class:"card-footer"},ue={key:0},ge={key:0},be={key:0},pe={key:0},me={key:1},he=["onClick"],ye={key:1},ve={key:0},fe={key:1},ke={key:0},$e={key:1},Ce={key:2},we={key:0},Se={key:1},Me={key:2},Le=["onClick"],Be={key:3},Te={key:0},je={key:1},Pe={key:1},He={key:1},Ke={key:1,class:"row mb-3"},Ie={class:"col"};function Ne(i,r,g,a,h,p){const k=v("Head"),u=v("Link"),$=v("Pagination");return s(),t(m,null,[d(k,null,{default:c(()=>{var e;return[o("title",null,`
            `+l((e=i.$page.props.setting.app_name)!=null?e:"Atur Setting Terlebih Dahulu")+`
            - Soal
        `,1)]}),_:1}),o("div",I,[o("div",N,[o("div",A,[r[1]||(r[1]=f('<div class="breadcrumb-title pe-3">Latihan Soal</div><div class="ps-3"><nav aria-label="breadcrumb"><ol class="breadcrumb mb-0 p-0"><li class="breadcrumb-item"><a href="javascript:;"><i class="bx bx-home-alt"></i></a></li><li class="breadcrumb-item active" aria-current="page"> Soal </li></ol></nav></div>',2)),o("div",E,[d(u,{href:`/user/categories/${g.categoryId}/lesson-categories/${g.lessonCategoryId}/lessons`,class:"btn btn-primary btn-sm mt-2 mt-lg-0"},{default:c(()=>[...r[0]||(r[0]=[_("Kembali",-1)])]),_:1},8,["href"])])]),r[12]||(r[12]=o("hr",null,null,-1)),g.exams.data.length?n("",!0):(s(),t("div",O,[...r[2]||(r[2]=[f('<div class="row row-cols-12 row-cols-md-12 row-cols-lg-12 row-cols-xl-12"><div class="col"><div class="card border-bottom border-3 border-0"><div class="card-body"><h5 class="card-title text-center"> Soal Belum Tersedia. </h5></div></div></div></div>',1)])])),o("div",U,[o("div",V,[i.$page.props.session.failed?(s(),t("div",F,[o("div",{innerHTML:i.$page.props.session.failed},null,8,R)])):n("",!0),i.$page.props.session.error?(s(),t("div",z,[o("div",{innerHTML:i.$page.props.session.error},null,8,D)])):n("",!0),i.$page.props.session.success?(s(),t("div",Y,[o("div",{innerHTML:i.$page.props.session.success},null,8,q)])):n("",!0)]),(s(!0),t(m,null,y(g.exams.data,(e,C)=>(s(),t("div",{class:"col-xs-12 col-sm-6 col-md-6 col-lg-3",key:C},[o("div",G,[i.$page.props.auth.user.member_type==2?(s(),t("div",J,[(e.transaction.length>0||a.checkMemberCategories(e.member_categories)==!0)&&e.member_categories?(s(),t("span",Q)):n("",!0)])):n("",!0),o("div",W,[o("img",{src:"/storage/upload_files/lessons/"+e.lesson.thumbnail,class:"card-img"},null,8,X)]),o("div",Z,[o("h6",x,l(e.title),1)]),i.$page.props.auth.user.member_type==2?(s(),t("div",ee,[i.$page.props.setting.purchase_type==1||i.$page.props.setting.purchase_type==3?(s(),t("div",se,[e.price_before_discount==e.price_after_discount?(s(),t("div",te,[o("h6",re," Rp."+l(p.formatPrice(e.price_after_discount)),1)])):(s(),t("div",oe,[o("h6",ie,[o("sup",null,[o("s",null,"Rp."+l(p.formatPrice(e.price_before_discount)),1),o("span",ne,l(p.formatPrice((e.price_before_discount-e.price_after_discount)/e.price_before_discount*100))+"% ",1)]),r[3]||(r[3]=o("br",null,null,-1)),_("Rp."+l(p.formatPrice(e.price_after_discount)),1)])]))])):n("",!0),i.$page.props.setting.purchase_type==2||i.$page.props.setting.purchase_type==3?(s(),t("div",ae,[e.member_categories?(s(),t("div",le,[(s(!0),t(m,null,y(e.member_categories,b=>(s(),t("span",de,l(b),1))),256))])):(s(),t("div",ce,[...r[4]||(r[4]=[o("span",{class:"badge bg-success mb-0"},"Seluruh Member & Non Member",-1)])]))])):n("",!0)])):n("",!0),o("div",_e,[e.exam_status=="active"?(s(),t("div",ue,[i.$page.props.auth.user.member_type==2?(s(),t("div",ge,[i.$page.props.setting.purchase_type==1?(s(),t("div",be,[e.transaction.length>0?(s(),t("div",pe,[d(u,{href:`/user/categories/${e.category_id}/lesson-categories/${e.lesson_category_id}/lessons/${e.lesson_id}/exams/${e.id}`,class:"btn btn-primary btn-sm w-100"},{default:c(()=>[...r[5]||(r[5]=[_("Kerjakan Soal",-1)])]),_:1},8,["href"])])):(s(),t("div",me,[o("button",{class:"btn btn-outline-primary btn-sm w-100",onClick:b=>a.buyExam(e.id)}," Beli Latihan Soal ",8,he)]))])):n("",!0),i.$page.props.setting.purchase_type==2?(s(),t("div",ye,[a.checkMemberCategories(e.member_categories)==!0?(s(),t("div",ve,[e.exam_status=="active"?(s(),T(u,{key:0,href:`/user/categories/${e.category_id}/lesson-categories/${e.lesson_category_id}/lessons/${e.lesson_id}/exams/${e.id}`,class:"btn btn-primary btn-sm w-100"},{default:c(()=>[...r[6]||(r[6]=[_("Kerjakan Soal",-1)])]),_:1},8,["href"])):n("",!0)])):(s(),t("div",fe,[d(u,{href:`/user/vouchers?category_id=${e.category_id}`,class:"btn btn-outline-primary btn-sm w-100"},{default:c(()=>[e.member_categories.length==1?(s(),t("div",ke,[r[7]||(r[7]=_(" Upgrade Ke ",-1)),(s(!0),t(m,null,y(e.member_categories,b=>(s(),t("span",null,l(b),1))),256))])):(s(),t("div",$e,"Upgrade Member"))]),_:2},1032,["href"])]))])):n("",!0),i.$page.props.setting.purchase_type==3?(s(),t("div",Ce,[e.transaction.length>0&&a.checkMemberCategories(e.member_categories)==!0?(s(),t("div",we,[d(u,{href:`/user/categories/${e.category_id}/lesson-categories/${e.lesson_category_id}/lessons/${e.lesson_id}/exams/${e.id}`,class:"btn btn-primary btn-sm w-100 mb-2"},{default:c(()=>[...r[8]||(r[8]=[_("Kerjakan Soal",-1)])]),_:1},8,["href"])])):n("",!0),(e.transaction.length==0||a.checkMemberCategories(e.member_categories)==!1)&&(e.transaction.length>0||a.checkMemberCategories(e.member_categories)==!0)?(s(),t("div",Se,[d(u,{href:`/user/categories/${e.category_id}/lesson-categories/${e.lesson_category_id}/lessons/${e.lesson_id}/exams/${e.id}`,class:"btn btn-primary btn-sm w-100 mb-2"},{default:c(()=>[...r[9]||(r[9]=[_("Kerjakan Soal",-1)])]),_:1},8,["href"])])):n("",!0),e.transaction.length==0?(s(),t("div",Me,[o("button",{class:"btn btn-outline-primary btn-sm w-100 mb-2",onClick:b=>a.buyExam(e.id)}," Beli Latihan Soal ",8,Le)])):n("",!0),a.checkMemberCategories(e.member_categories)==!1?(s(),t("div",Be,[d(u,{href:`/user/vouchers?category_id=${e.category_id}`,class:"btn btn-outline-primary btn-sm w-100 mb-2"},{default:c(()=>[e.member_categories.length==1?(s(),t("div",Te,[r[10]||(r[10]=_(" Upgrade Ke ",-1)),(s(!0),t(m,null,y(e.member_categories,b=>(s(),t("span",null,l(b),1))),256))])):(s(),t("div",je,"Upgrade Member"))]),_:2},1032,["href"])])):n("",!0)])):n("",!0)])):(s(),t("div",Pe,[d(u,{href:`/user/categories/${e.category_id}/lesson-categories/${e.lesson_category_id}/lessons/${e.lesson_id}/exams/${e.id}`,class:"btn btn-primary btn-sm w-100"},{default:c(()=>[...r[11]||(r[11]=[_("Kerjakan Soal",-1)])]),_:1},8,["href"])]))])):(s(),t("div",He,[o("button",{class:j(["btn btn-sm w-100",{"btn-danger":e.exam_status=="inactive","btn-warning":e.exam_status==="inprogress"}])},l(e.exam_status==="inactive"?"Non Active":"In Progress"),3)]))])])]))),128))]),g.exams.data.length?(s(),t("div",Ke,[o("div",Ie,[d($,{links:g.exams.links,align:"center"},null,8,["links"])])])):n("",!0)])])],64)}const Fe=H(K,[["render",Ne]]);export{Fe as default};
