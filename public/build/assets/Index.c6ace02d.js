import{L as B}from"./Layout.4d67cb95.js";import{P as V}from"./Pagination.e1bdf544.js";import{l as A,h as U,k as M,D as f,r as p,c as n,a as u,w as g,b as s,d as N,p as h,q as T,v as k,F as _,e as v,m as C,g as x,f as y,i as D,o as l,t as i}from"./app.5ad37d3c.js";import{S as L}from"./sweetalert2.esm.all.5c9cd675.js";import{a as P}from"./index.4bece78e.js";import{_ as j}from"./_plugin-vue_export-helper.cdc0426e.js";const F={layout:B,components:{Link:A,Head:U,Pagination:V},props:{exams:Object,categories:Object},setup(){const t=M({search:f(new URL(document.location).searchParams.get("search")),category_id:f(new URL(document.location).searchParams.get("category_id")||""),lesson_category_id:f(new URL(document.location).searchParams.get("lesson_category_id")||""),lesson_id:f(new URL(document.location).searchParams.get("lesson_id")||""),lessonCategories:[],lessons:[]}),e=()=>{D.get("/admin/exams",{search:t.search,category_id:t.category_id,lesson_category_id:t.lesson_category_id,lesson_id:t.lesson_id})},r=(m="",d="")=>{t.lesson_category_id=m!=t.category_id?"":t.lesson_category_id,t.lesson_id=d!=t.lesson_category_id?"":t.lesson_id,P.get(`/admin/categories/${t.category_id}/lesson-categories`).then(c=>{t.lessonCategories=c.data}).catch(c=>console.error(c))},o=(m="")=>{t.lesson_id=m!=t.lesson_category_id?"":t.lesson_id,P.get(`/admin/lesson-categories/${t.lesson_category_id}/lessons`).then(d=>{t.lessons=d.data}).catch(d=>console.error(d))},S=m=>{L.fire({title:"Apakah Anda yakin?",text:"Anda tidak akan dapat mengembalikan ini!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Hapus"}).then(d=>{d.isConfirmed&&(D.delete(`/admin/exams/${m}`),L.fire({title:"Deleted!",text:"Latihan Soal Berhasil Dihapus!.",icon:"success",timer:1e3,showConfirmButton:!1}))})};return t.category_id&&r(t.category_id,t.lesson_category_id),t.lesson_category_id&&o(t.lesson_category_id),{form:t,handleSearch:e,destroy:S,lessonCategoryData:r,lessonData:o}}},H={class:"page-wrapper"},R={class:"page-content"},q={class:"card border-top border-0 border-3 border-primary"},I={class:"card-body"},K={class:"row"},J={class:"col-md-4"},O={class:"col-md-2"},E=["value"],z={class:"col-md-2"},G=["value"],Q={class:"col-md-2"},W=["value"],X={class:"col-md-2"},Y={class:"card border-top border-0 border-3 border-primary"},Z={class:"card-header"},$={class:"d-flex align-items-center"},ss={class:"ms-auto"},es={class:"card-body"},as={class:"table-responsive"},ts={class:"table mb-0"},os={class:"badge bg-primary"},ns={key:0,class:"badge bg-danger"},ls={key:1,class:"badge bg-primary"},is={key:0,class:"badge bg-primary"},rs={key:1,class:"badge bg-danger"},ds={key:2,class:"badge bg-warning"},cs={class:"d-flex order-actions"},ms=["onClick"],us={key:0,align:"center",colspan:"10"};function gs(t,e,r,o,S,m){const d=p("Head"),c=p("Link"),w=p("Pagination");return l(),n(_,null,[u(d,null,{default:g(()=>{var a;return[s("title",null,`
            `+i((a=t.$page.props.setting.app_name)!=null?a:"Atur Setting Terlebih Dahulu")+`
            - Data Latihan Soal
        `,1)]}),_:1}),s("div",H,[s("div",R,[e[25]||(e[25]=N('<div class="page-breadcrumb d-none d-sm-flex align-items-center mb-3"><div class="breadcrumb-title pe-3">Latihan Soal</div><div class="ps-3"><nav aria-label="breadcrumb"><ol class="breadcrumb mb-0 p-0"><li class="breadcrumb-item"><a href="javascript:;"><i class="bx bx-home-alt"></i></a></li><li class="breadcrumb-item active" aria-current="page"> Data Latihan Soal </li></ol></nav></div></div>',1)),s("div",q,[e[18]||(e[18]=s("div",{class:"card-header"},[s("div",{class:"d-flex align-items-center"},[s("div",null,[s("h6",{class:"mb-0"},"Filter Data")])])],-1)),s("div",I,[s("form",null,[s("div",K,[s("div",J,[e[7]||(e[7]=s("label",{for:"search"},"Judul Latihan Soal",-1)),h(s("input",{type:"text","onUpdate:modelValue":e[0]||(e[0]=a=>o.form.search=a),class:"form-control",id:"search",placeholder:"Cari Berdasarkan Nama Latihan Soal...."},null,512),[[T,o.form.search]])]),s("div",O,[e[9]||(e[9]=s("label",{for:"category"},"Kategori Peminatan",-1)),h(s("select",{onChange:e[1]||(e[1]=(...a)=>o.lessonCategoryData&&o.lessonCategoryData(...a)),"onUpdate:modelValue":e[2]||(e[2]=a=>o.form.category_id=a),class:"form-control"},[e[8]||(e[8]=s("option",{value:""},"[ Pilih]",-1)),(l(!0),n(_,null,v(r.categories,(a,b)=>(l(),n("option",{key:b,value:a.id},i(a.name),9,E))),128))],544),[[k,o.form.category_id]])]),s("div",z,[e[11]||(e[11]=s("label",{for:"lesson_category_id"},"Kategori Mata Pelajaran",-1)),h(s("select",{onChange:e[3]||(e[3]=(...a)=>o.lessonData&&o.lessonData(...a)),"onUpdate:modelValue":e[4]||(e[4]=a=>o.form.lesson_category_id=a),class:"form-control"},[e[10]||(e[10]=s("option",{value:""},"[ Pilih ]",-1)),(l(!0),n(_,null,v(o.form.lessonCategories,a=>(l(),n("option",{value:a.id},i(a.name),9,G))),256))],544),[[k,o.form.lesson_category_id]])]),s("div",Q,[e[13]||(e[13]=s("label",{for:"lesson_id"},"Mata Pelajaran",-1)),h(s("select",{"onUpdate:modelValue":e[5]||(e[5]=a=>o.form.lesson_id=a),class:"form-select"},[e[12]||(e[12]=s("option",{value:""},"[ Pilih ]",-1)),(l(!0),n(_,null,v(o.form.lessons,a=>(l(),n("option",{value:a.id},i(a.name),9,W))),256))],512),[[k,o.form.lesson_id]])]),s("div",X,[e[16]||(e[16]=s("label",{for:"end_date"},"Action",-1)),e[17]||(e[17]=s("br",null,null,-1)),s("button",{onClick:e[6]||(e[6]=C((...a)=>o.handleSearch&&o.handleSearch(...a),["prevent"])),class:"btn btn-primary btn-sm me-2"},[...e[14]||(e[14]=[s("i",{class:"bx bx-filter"},null,-1),x("Filter ",-1)])]),u(c,{href:"/admin/exams",class:"btn btn-danger btn-sm me-2"},{default:g(()=>[...e[15]||(e[15]=[s("i",{class:"bx bx-refresh"},null,-1),x("reset ",-1)])]),_:1})])])])])]),s("div",Y,[s("div",Z,[s("div",$,[e[20]||(e[20]=s("div",null,[s("h6",{class:"mb-0"},"Latihan Soal")],-1)),s("div",ss,[u(c,{href:"/admin/exams/create",class:"btn btn-primary btn-sm me-2"},{default:g(()=>[...e[19]||(e[19]=[s("i",{class:"bx bxs-plus-square"},null,-1),x("Tambah Data ",-1)])]),_:1})])])]),s("div",es,[s("div",as,[s("table",ts,[e[24]||(e[24]=s("thead",{class:"table-light"},[s("tr",null,[s("th",null,"No"),s("th",null,"Peminatan"),s("th",null,"Kategori"),s("th",null,"Mata Pelajaran"),s("th",null,"Paket Soal"),s("th",null,"Judul Latihan Soal"),s("th",null,"Durasi"),s("th",null,"Siswa"),s("th",null,"Status"),s("th",null,"Actions")])],-1)),s("tbody",null,[(l(!0),n(_,null,v(r.exams.data,(a,b)=>(l(),n("tr",{key:b},[s("td",null,i(++b+(r.exams.current_page-1)*r.exams.per_page),1),s("td",null,[s("span",os,i(a.category.name),1)]),s("td",null,i(a.lesson_category.name),1),s("td",null,i(a.lesson.name),1),s("td",null,i(a.question_title.name),1),s("td",null,i(a.title),1),s("td",null,i(a.duration)+" Menit",1),s("td",null,[a.grade_finished_count==0?(l(),n("span",ns,i(a.grade_finished_count),1)):(l(),n("span",ls,i(a.grade_finished_count),1))]),s("td",null,[a.exam_status=="active"?(l(),n("span",is,"Active")):y("",!0),a.exam_status=="inactive"?(l(),n("span",rs,"Inactive")):y("",!0),a.exam_status=="inprogress"?(l(),n("span",ds,"In Progress")):y("",!0)]),s("td",null,[s("div",cs,[u(c,{href:`/admin/exams/${a.id}`,class:"ms-1"},{default:g(()=>[...e[21]||(e[21]=[s("i",{class:"bx bx-grid-alt"},null,-1)])]),_:1},8,["href"]),u(c,{href:`/admin/exams/${a.id}/edit`,class:"ms-1"},{default:g(()=>[...e[22]||(e[22]=[s("i",{class:"bx bxs-edit"},null,-1)])]),_:1},8,["href"]),s("a",{href:"#",onClick:C(_s=>o.destroy(a.id),["prevent"]),class:"ms-1"},[...e[23]||(e[23]=[s("i",{class:"bx bxs-trash"},null,-1)])],8,ms)])])]))),128)),s("tr",null,[r.exams.data.length?y("",!0):(l(),n("td",us," Data Tidak Tersedia "))])])])]),u(w,{links:r.exams.links,align:"end"},null,8,["links"])])])])])],64)}const ks=j(F,[["render",gs]]);export{ks as default};
